This is a simulation problem: We simply simulate the process of trimming the tree by successively removing the minimum weight edge in the tree which is connected to a vertex of degree 1.

If we do this naively, by looping through the entire tree to find the minimum weight edge connected to a vertex of degree 1, our solution will be `O(N^2)`, which is too slow for `N <= 3 * 10^5`. Instead, we can use a priority queue which holds all the edges in the tree connected to a vertex of degree 1, and use the `pop` method in the priority queue to give us the minimum weight edge.

Whenever we pop an edge from the priority queue, we also need to make sure to look at the vertex which was not of degree 1: If that vertex is now degree 1 after removing the edge we just popped, then we need to add the edge connected that vertex to our priority queue. To perform this efficiently, we keep a set of all the edges connected to a vertex, and remove an edge from that set for the vertex not of degree 1 whenever we pop an edge from the priority queue. If, after removing an edge from that set, the set has only one edge left, then the vertex is now of degree 1 so we add the edge in that set to our priority queue.